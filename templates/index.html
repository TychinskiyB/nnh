{% extends "base.html" %}
{% block title %}–ù–û–í–û–ù–ï–§–¢–ï–•–ò–ú ‚Äî –ì–ª–∞–≤–Ω–∞—è{% endblock %}

{% block head_extra %}
<style>
:root{
 --ink:#151a22; --ink-muted:#5b6472; --paper:#f7f9fc; --card:#ffffff; --line:#e7ecf3;
 --brand:#0a49a7; --brand-ink:#fff; --accent:#ff8640;
}
@media (prefers-color-scheme: dark){
 :root{
   --ink:#eef2f7; --ink-muted:#aeb7c4; --paper:#0c1218; --card:#121923; --line:#1c2733;
   --brand:#6aa6ff; --brand-ink:#0c1218; --accent:#ffb07a;
 }
}
body{background:var(--paper); color:var(--ink)}

/* ===== HERO ===== */
.hero-video{position:relative; min-height:86vh; display:grid; place-items:center; isolation:isolate}
.hero-media{position:absolute; inset:0; overflow:hidden; border-bottom:1px solid var(--line)}
.hero-media video{width:100%; height:100%; object-fit:cover; filter:brightness(.9) saturate(1.05)}
.hero-overlay{position:absolute; inset:0; background:
 linear-gradient(180deg, rgba(0,0,0,.35) 0%, rgba(0,0,0,.25) 25%, rgba(0,0,0,.15) 55%, rgba(0,0,0,.0) 100%)}
.hero-video.no-video{background:linear-gradient(180deg,#eaf1fb,#f7f9fc)}
.hero-content{position:relative; z-index:2; text-align:center; padding: clamp(28px,5vw,64px) 20px; max-width: 1000px}
.hero h1{font-size: clamp(36px,5.4vw,64px); line-height:1.08; letter-spacing:-.02em; margin:0; color:#fff}
.hero .lead{margin:14px auto 18px; max-width: 720px; color:#f3f6fb; font-size: clamp(16px,1.4vw,19px); opacity:.95}
.btn-row{display:flex; gap:12px; justify-content:center; flex-wrap:wrap}

/* –ö–Ω–æ–ø–∫–∏ */
.btn{border:1px solid var(--line)}
.btn-primary{background:var(--brand); color:var(--brand-ink)!important; border-color:transparent; box-shadow:0 6px 18px rgba(10,73,167,.25)}
.btn-primary:hover{filter:brightness(1.05)}
.btn-ghost{background:rgba(255,255,255,.1); color:#fff!important; border-color:rgba(255,255,255,.3)}
.hero .btn-ghost:hover{background:rgba(255,255,255,.2)}

/* ===== –°–µ–∫—Ü–∏–∏/—Ç–µ–∫—Å—Ç ===== */
.section{padding: clamp(40px, 7vw, 84px) 0}
.section-head.center{text-align:center}
.section-head .muted{color:var(--ink-muted)}

/* ===== –§–∏—á–∏ ===== */
.feature{background:var(--card); border:1px solid var(--line); border-radius:18px; overflow:hidden; transition:transform .2s, box-shadow .2s}
.feature:hover{transform:translateY(-3px); box-shadow:0 16px 38px rgba(14,29,54,.08)}
.feature-ic{font-size:26px; margin:16px 16px 0}
.feature .card-body{padding:16px 16px 18px}
.feature h3{margin:6px 0 4px}
.feature p{color:var(--ink-muted); margin:0}

/* ===== KPI / –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ ‚Äî —Ü–µ–Ω—Ç—Ä –∏ –º–µ–Ω—å—à–µ –æ—Ç—Å—Ç—É–ø—ã ===== */
.kpi-section{ padding:32px 0; } /* –±—ã–ª–æ clamp(40px,7vw,84px) ‚Äî —É–º–µ–Ω—å—à–∏–ª–∏ —Ç–æ–ª—å–∫–æ –¥–ª—è KPI */
.kpi{
  display:grid;
  grid-template-columns:repeat(2,1fr);
  gap:14px;
  justify-items:center; /* –∫–∞—Ä—Ç–æ—á–∫–∏ –≤—ã—Ä–∞–≤–Ω–∏–≤–∞—é—Ç—Å—è –ø–æ —Ü–µ–Ω—Ç—Ä—É —Å–≤–æ–∏—Ö –∫–æ–ª–æ–Ω–æ–∫ */
}
@media(min-width:900px){
  .kpi{ grid-template-columns:repeat(3,1fr); } /* –≤–º–µ—Å—Ç–æ 4 ‚Äî —Ä–æ–≤–Ω–æ —Ç—Ä–∏ –∫–æ–ª–æ–Ω–∫–∏ */
}
.kpi .card{
  background:var(--card); border:1px solid var(--line); border-radius:18px;
  text-align:center; padding:18px 10px 16px; box-shadow:0 4px 14px rgba(14,29,54,.06);
  max-width: 360px; width:100%; /* –Ω–µ —Ä–∞—Å—Ç—è–≥–∏–≤–∞–µ–º —Å–ª–∏—à–∫–æ–º —à–∏—Ä–æ–∫–æ, –≤–∏–∑—É–∞–ª—å–Ω—ã–π —Ä–∞–∑–º–µ—Ä –æ—Å—Ç–∞—ë—Ç—Å—è —Å—Ç–∞–±–∏–ª—å–Ω—ã–º */
}
.kpi .num{font-size: clamp(34px,4.6vw,46px); font-weight:800; letter-spacing:-.02em; color:var(--ink); margin:0 0 4px}
.kpi .txt{color:var(--ink-muted); margin:0}

/* ===== –ü—Ä–æ–¥—É–∫—Ç—ã (—Å–∫—Ä–æ–ª–ª-—Å–Ω—ç–ø) ===== */
.live-wrap{overflow:auto; scroll-snap-type:x mandatory; padding-bottom:6px}
.live-grid{display:grid; grid-auto-flow:column; grid-auto-columns:minmax(280px, 1fr); gap:14px}
@media(min-width:980px){.live-grid{grid-auto-columns: 32%;}}
.live-card{scroll-snap-align:center; background:var(--card); border:1px solid var(--line); border-radius:18px; overflow:hidden; transition:transform .2s, box-shadow .2s}
.live-card:hover{transform:translateY(-3px); box-shadow:0 16px 38px rgba(14,29,54,.08)}
.live-media{aspect-ratio:16/10; overflow:hidden}
.live-media img{width:100%; height:100%; object-fit:cover; transform:scale(1.02); transition:transform .35s}
.live-card:hover .live-media img{transform:scale(1.06)}
.live-body{padding:14px 16px 18px}
.live-body p{color:var(--ink-muted); margin:4px 0 0}

/* ===== –õ–µ–Ω—Ç–∞ –∫–ª–∏–µ–Ω—Ç–æ–≤ ===== */
.ribbon{border-top:1px dashed var(--line); border-bottom:1px dashed var(--line); background:linear-gradient(180deg, rgba(0,0,0,.02), transparent)}
.marquee{overflow:hidden; mask-image:linear-gradient(90deg, transparent, #000 8%, #000 92%, transparent)}
.marquee-track{display:flex; width:max-content; gap:36px; padding:10px 0; will-change:transform; animation:mar 28s linear infinite}
.marquee-track--alt{animation-delay:-14s}
@keyframes mar{to{transform:translateX(-50%)}}
.logo-pill{border:1px solid var(--line); border-radius:999px; padding:10px 16px; font-weight:700; background:var(--card); white-space:nowrap}

/* ===== –û—Ç–∑—ã–≤—ã ===== */
.carousel{position:relative}
.car-viewport{overflow:hidden}
.car-track{display:flex; transition:transform .5s cubic-bezier(.2,.6,.2,1)}
.car-item{min-width:100%; padding:6px}
.car-item .card{background:var(--card); border:1px solid var(--line); border-radius:18px; padding:16px}
.card .avatar{width:56px;height:56px;border-radius:50%;object-fit:cover}
.card .quote{font-size:18px; line-height:1.6}
.car-btn{position:absolute; top:50%; transform:translateY(-50%); width:44px;height:44px;border-radius:999px;border:1px solid var(--line); background:#fff; color:var(--ink); display:grid;place-items:center; cursor:pointer}
@media (prefers-color-scheme: dark){.car-btn{background:#1b2430; color:#fff}}
.prev{left:6px} .next{right:6px}

/* ===== CTA ===== */
.cta{background:var(--card); border:1px solid var(--line); border-radius:20px; padding:26px 22px; text-align:center; box-shadow:0 6px 22px rgba(14,29,54,.06)}
.cta p{color:var(--ink-muted); margin:6px 0 12px}

/* –ü–ª–∞–≤–Ω–æ–µ –ø–æ—è–≤–ª–µ–Ω–∏–µ */
.reveal{opacity:0; transform:translateY(10px); transition:opacity .6s ease, transform .6s ease}
.reveal.reveal-in{opacity:1; transform:none}
</style>
{% endblock %}

{% block content %}

<!-- HERO -->
<section class="hero hero-video">
  <div class="hero-media" id="heroMedia">
    <video id="heroVideo" autoplay muted loop playsinline preload="auto">
      <source src="{{ url_for('static', filename='videos/video_glavnoe.mp4') }}" type="video/mp4">
    </video>
    <div class="hero-overlay"></div>
  </div>
  <div class="hero-content">
    <h1>–ò–Ω–∂–µ–Ω–µ—Ä–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è –¥–ª—è&nbsp;–Ω–µ–ø—Ä–µ—Ä—ã–≤–Ω–æ–≥–æ –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–∞</h1>
    <p class="lead">–ü–æ—Å—Ç–∞–≤–ª—è–µ–º –∏ –≤–Ω–µ–¥—Ä—è–µ–º –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏–µ, –∫–æ—Ç–æ—Ä–æ–µ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å—Ç–∞–±–∏–ª—å–Ω–æ –∏&nbsp;–ø—Ä–µ–¥—Å–∫–∞–∑—É–µ–º–æ.</p>
    <div class="btn-row">
      <a class="btn btn-primary" href="{{ url_for('contact') }}">–°–≤—è–∑–∞—Ç—å—Å—è</a>
      <a class="btn btn-ghost" href="{{ url_for('products') }}">–ö–∞—Ç–∞–ª–æ–≥ –ø—Ä–æ–¥—É–∫—Ç–æ–≤</a>
    </div>
  </div>
  <noscript><style>.hero-media video{display:none}.hero-video{background:#eaf1fb}</style></noscript>
</section>

<!-- –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ -->
<section class="section">
  <div class="container">
    <div class="grid reveal">
      <article class="card col-4 feature">
        <div class="feature-ic">‚öôÔ∏è</div>
        <div class="card-body">
          <h3>–ò–Ω–∂–∏–Ω–∏—Ä–∏–Ω–≥</h3>
          <p>–ü–æ–¥–±–æ—Ä –∏ —Ä–∞—Å—á—ë—Ç –ø–æ–¥ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ —É—Å–ª–æ–≤–∏—è.</p>
        </div>
      </article>
      <article class="card col-4 feature">
        <div class="feature-ic">üéØ</div>
        <div class="card-body">
          <h3>–ü—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–æ</h3>
          <p>–ò–∑–≥–æ—Ç–æ–≤–ª–µ–Ω–∏–µ —É–∑–ª–æ–≤ –∏ –±–ª–æ–∫–æ–≤ ¬´–ø–æ–¥ –∫–ª—é—á¬ª.</p>
        </div>
      </article>
      <article class="card col-4 feature">
        <div class="feature-ic">üöÅ</div>
        <div class="card-body">
          <h3>–ò–º–ø–æ—Ä—Ç –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏—è</h3>
          <p>–ö–æ–Ω—Ç—Ä–∞–∫—Ç—ã, –ª–æ–≥–∏—Å—Ç–∏–∫–∞, —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è, –¥–æ—Å—Ç–∞–≤–∫–∞.</p>
        </div>
      </article>
    </div>
  </div>
</section>

<!-- KPI (–≤–∏–¥–∏–º—ã–µ –∫–∞—Ä—Ç–æ—á–∫–∏) -->
<section class="section alt kpi-section">
  <div class="container">
    <div class="kpi reveal">
      <div class="card">
        <p class="num counter" data-target="12" data-suffix="+">12+</p>
        <p class="txt">–ª–µ—Ç –Ω–∞ —Ä—ã–Ω–∫–µ</p>
      </div>
      <div class="card">
        <p class="num counter" data-target="500" data-suffix="+">500+</p>
        <p class="txt">—É—Å–ø–µ—à–Ω—ã—Ö –ø—Ä–æ–µ–∫—Ç–æ–≤</p>
      </div>
      <div class="card">
        <p class="num counter" data-target="24" data-suffix="/7">24/7</p>
        <p class="txt">—Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞</p>
      </div>
    </div>
  </div>
</section>

<!-- –õ–µ–Ω—Ç–∞ –∫–ª–∏–µ–Ω—Ç–æ–≤ (–±–µ–∑ –Ω–∞–ª–æ–∂–µ–Ω–∏–π) -->
<section class="section alt">
  <div class="container">
    <div class="ribbon reveal" aria-label="–ö–ª–∏–µ–Ω—Ç—ã">
      <div class="marquee">
        <div class="marquee-track">
          <span class="logo-pill">–†–æ—Å–Ω–µ—Ñ—Ç—å</span>
          <span class="logo-pill">–ì–∞–∑–ø—Ä–æ–º–Ω–µ—Ñ—Ç—å</span>
          <span class="logo-pill">–°–∏–±—É—Ä</span>
          <span class="logo-pill">–ï–≤—Ä–∞–∑</span>
          <span class="logo-pill">–û–ù–ü–ó</span>
          <span class="logo-pill">–ù–õ–ú–ö</span>
          <span class="logo-pill">–¢–ê–ù–ï–ö–û</span>
          <span class="logo-pill">–õ–£–ö–û–ô–õ</span>
          <span class="logo-pill">–†–æ—Å–Ω–µ—Ñ—Ç—å</span>
          <span class="logo-pill">–ì–∞–∑–ø—Ä–æ–º–Ω–µ—Ñ—Ç—å</span>
          <span class="logo-pill">–°–∏–±—É—Ä</span>
          <span class="logo-pill">–ï–≤—Ä–∞–∑</span>
          <span class="logo-pill">–û–ù–ü–ó</span>
          <span class="logo-pill">–ù–õ–ú–ö</span>
          <span class="logo-pill">–¢–ê–ù–ï–ö–û</span>
          <span class="logo-pill">–õ–£–ö–û–ô–õ</span>
        </div>
        <div class="marquee-track marquee-track--alt" aria-hidden="true">
          <span class="logo-pill">–†–æ—Å–Ω–µ—Ñ—Ç—å</span>
          <span class="logo-pill">–ì–∞–∑–ø—Ä–æ–º–Ω–µ—Ñ—Ç—å</span>
          <span class="logo-pill">–°–∏–±—É—Ä</span>
          <span class="logo-pill">–ï–≤—Ä–∞–∑</span>
          <span class="logo-pill">–û–ù–ü–ó</span>
          <span class="logo-pill">–ù–õ–ú–ö</span>
          <span class="logo-pill">–¢–ê–ù–ï–ö–û</span>
          <span class="logo-pill">–õ–£–ö–û–ô–õ</span>
          <span class="logo-pill">–†–æ—Å–Ω–µ—Ñ—Ç—å</span>
          <span class="logo-pill">–ì–∞–∑–ø—Ä–æ–º–Ω–µ—Ñ—Ç—å</span>
          <span class="logo-pill">–°–∏–±—É—Ä</span>
          <span class="logo-pill">–ï–≤—Ä–∞–∑</span>
          <span class="logo-pill">–û–ù–ü–ó</span>
          <span class="logo-pill">–ù–õ–ú–ö</span>
          <span class="logo-pill">–¢–ê–ù–ï–ö–û</span>
          <span class="logo-pill">–õ–£–ö–û–ô–õ</span>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- –û—Ç–∑—ã–≤—ã -->
<section class="section">
  <div class="container">
    <div class="section-head center reveal">
      <h2>–û—Ç–∑—ã–≤—ã</h2>
      <p class="muted">–ß—Ç–æ –≥–æ–≤–æ—Ä—è—Ç –æ –Ω–∞—à–µ–π —Ä–∞–±–æ—Ç–µ</p>
    </div>

    <div class="carousel reveal" id="carousel">
      <button class="car-btn prev" aria-label="–ù–∞–∑–∞–¥">‚Äπ</button>
      <div class="car-viewport">
        <div class="car-track">
          <article class="car-item">
            <div class="card">
              <p class="quote">¬´–ó–∞–ø—É—Å—Ç–∏–ª–∏—Å—å –≤ —Å—Ä–æ–∫, —Ç–µ–ª–µ–º–µ—Ç—Ä–∏—è –∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ ‚Äî –±–µ–∑ –Ω–∞—Ä–µ–∫–∞–Ω–∏–π. –ö–æ–º–∞–Ω–¥–∞ –¥–µ—Ä–∂–∞–ª–∞ –Ω–∞—Å –≤ –∫—É—Ä—Å–µ –Ω–∞ –∫–∞–∂–¥–æ–º —ç—Ç–∞–ø–µ¬ª.</p>
              <div class="who" style="display:flex; gap:12px; align-items:center; margin-top:12px">
                <img class="avatar" src="https://dummyimage.com/56x56/d9d9d9/1d1d1f&text=AK" alt="">
                <div><strong>–ê–ª–µ–∫—Å–µ–π –ö.</strong><br><span class="muted">–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–π –¥–∏—Ä–µ–∫—Ç–æ—Ä</span></div>
              </div>
            </div>
          </article>

          <article class="car-item">
            <div class="card">
              <p class="quote">¬´–°–µ—Ä–≤–∏—Å –ø–æ–Ω—è—Ç–Ω—ã–π: —Ä–µ–≥–ª–∞–º–µ–Ω—Ç—ã, –∑–∞–ø–∞—Å–Ω–∏–∫–∏, —Ä–µ–∞–∫—Ü–∏—è –≤ —Ç–µ—á–µ–Ω–∏–µ –¥–Ω—è. –û—Ç–ª–∏—á–Ω—ã–π –æ–ø—ã—Ç –≤–Ω–µ–¥—Ä–µ–Ω–∏—è¬ª.</p>
              <div class="who" style="display:flex; gap:12px; align-items:center; margin-top:12px">
                <img class="avatar" src="https://dummyimage.com/56x56/d9d9d9/1d1d1f&text=EM" alt="">
                <div><strong>–ï–∫–∞—Ç–µ—Ä–∏–Ω–∞ –ú.</strong><br><span class="muted">–†—É–∫–æ–≤–æ–¥–∏—Ç–µ–ª—å –ø—Ä–æ–µ–∫—Ç–æ–≤</span></div>
              </div>
            </div>
          </article>

          <article class="car-item">
            <div class="card">
              <p class="quote">¬´–í–æ–¥–æ–ø–æ–¥–≥–æ—Ç–æ–≤–∫–∞ —Å—Ç–∞–ª–∞ —Å—Ç–∞–±–∏–ª—å–Ω–µ–µ, –º—ã —Å–Ω–∏–∑–∏–ª–∏ OPEX –∏ —Å–æ–∫—Ä–∞—Ç–∏–ª–∏ –≤–Ω–µ–ø–ª–∞–Ω–æ–≤—ã–µ –æ—Å—Ç–∞–Ω–æ–≤–∫–∏¬ª.</p>
              <div class="who" style="display:flex; gap:12px; align-items:center; margin-top:12px">
                <img class="avatar" src="https://dummyimage.com/56x56/d9d9d9/1d1d1f&text=NV" alt="">
                <div><strong>–ù–∏–∫–æ–ª–∞–π –í.</strong><br><span class="muted">–ì–ª–∞–≤–Ω—ã–π –∏–Ω–∂–µ–Ω–µ—Ä</span></div>
              </div>
            </div>
          </article>
        </div>
      </div>
      <button class="car-btn next" aria-label="–í–ø–µ—Ä—ë–¥">‚Ä∫</button>
    </div>
  </div>
</section>

<!-- CTA -->
<section class="section">
  <div class="container">
    <div class="cta reveal">
      <h2 class="mt-0">–ï—Å—Ç—å –¢–ó –∏–ª–∏ —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—è?</h2>
      <p>–ü—Ä–∏—à–ª–∏—Ç–µ ‚Äî –ø–æ–¥–≥–æ—Ç–æ–≤–∏–º –≤–∞—Ä–∏–∞–Ω—Ç—ã: –∏–∑–≥–æ—Ç–æ–≤–ª–µ–Ω–∏–µ –∏–ª–∏ –∏–º–ø–æ—Ä—Ç, —Å—Ä–æ–∫–∏ –∏ —Å—Ç–æ–∏–º–æ—Å—Ç—å.</p>
      <a class="btn btn-primary" href="{{ url_for('contact') }}">–û—Ç–ø—Ä–∞–≤–∏—Ç—å –∑–∞–ø—Ä–æ—Å</a>
    </div>
  </div>
</section>

{% endblock %}

{% block body_end %}
<script>
// –í–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ –≤–∏–¥–µ–æ + —Ñ–æ–ª–±—ç–∫
(function(){
 const v = document.getElementById('heroVideo');
 const section = document.querySelector('.hero-video');
 if(!v) return;
 const p = v.play && v.play();
 if(p && typeof p.then === 'function'){ p.catch(()=> section.classList.add('no-video')); }
 v.addEventListener('error', ()=> section.classList.add('no-video'));
})();

// Reveal
(()=>{const els=[...document.querySelectorAll('.reveal')]; if(!els.length) return;
const io=new IntersectionObserver(es=>{es.forEach(en=>{if(en.isIntersecting){en.target.classList.add('reveal-in'); io.unobserve(en.target);}})},{threshold:.18});
els.forEach(el=>io.observe(el));
})();

// –°—á—ë—Ç—á–∏–∫–∏
(function(){
 const counters = document.querySelectorAll('.counter'); if(!counters.length) return;
 const io = new IntersectionObserver((entries)=>{
   entries.forEach(entry=>{
     if(entry.isIntersecting){
       const el = entry.target, target = Number(el.dataset.target||0), suffix = el.dataset.suffix||'';
       const start = performance.now(), dur = 900;
       function step(t){
         const p = Math.min(1,(t-start)/dur);
         const val = Math.round(target*(0.2+0.8*Math.pow(p,0.8)));
         el.textContent = val + suffix;
         if(p<1) requestAnimationFrame(step);
       }
       requestAnimationFrame(step);
       io.unobserve(el);
     }
   });
 },{threshold:.6});
 counters.forEach(c=>io.observe(c));
})();

// –ö–∞—Ä—É—Å–µ–ª—å –æ—Ç–∑—ã–≤–æ–≤
(function(){
 const carousel = document.getElementById('carousel'); if(!carousel) return;
 const track = carousel.querySelector('.car-track');
 const items = carousel.querySelectorAll('.car-item');
 const prev = carousel.querySelector('.prev');
 const next = carousel.querySelector('.next');
 let idx = 0;
 function update(){ const w = carousel.querySelector('.car-viewport').clientWidth; track.style.transform = `translateX(${-idx*w}px)`; }
 function go(n){ idx = (n + items.length) % items.length; update(); }
 let timer = setInterval(()=>go(idx+1), 5000);
 function reset(){ clearInterval(timer); timer = setInterval(()=>go(idx+1), 5000); }
 next.addEventListener('click', ()=>{go(idx+1); reset();});
 prev.addEventListener('click', ()=>{go(idx-1); reset();});
 window.addEventListener('resize', update);
 update();
})();
</script>
{% endblock %}



