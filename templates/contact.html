{% extends "base.html" %}
{% block title %}–ö–æ–Ω—Ç–∞–∫—Ç—ã ‚Äî –ù–û–í–û–ù–ï–§–¢–ï–•–ò–ú{% endblock %}
{% block content %}


<!-- HERO -->
<section class="hero" style="--hero-bg:url('{{ url_for('static', filename='images/cont.png') }}')">
  <div class="hero-content reveal">
    <h1>–ö–æ–Ω—Ç–∞–∫—Ç—ã</h1>
    <p class="lead">–°–≤—è–∂–∏—Ç–µ—Å—å —Å –Ω–∞–º–∏ –ª—é–±—ã–º —É–¥–æ–±–Ω—ã–º —Å–ø–æ—Å–æ–±–æ–º</p>
  </div>
</section>


<!-- –ö–û–ù–¢–ê–ö–¢–ù–ê–Ø –§–û–†–ú–ê -->
<section class="section">
  <div class="container">
    <div class="grid">
      <div class="col-6 reveal">
        <h2>–ù–∞–ø–∏—à–∏—Ç–µ –Ω–∞–º</h2>


        <!-- –í–ê–ñ–ù–û: enctype –¥–ª—è —Ñ–∞–π–ª–æ–≤ -->
        <form class="form" method="POST" action="{{ url_for('contact') }}" enctype="multipart/form-data">
          <input class="input" type="text" name="name" placeholder="–í–∞—à–µ –∏–º—è" required>
          <input class="input" type="email" name="email" placeholder="–í–∞—à email" required>
          <textarea class="textarea" name="message" placeholder="–í–∞—à–µ —Å–æ–æ–±—â–µ–Ω–∏–µ" required></textarea>


          <!-- Drag & drop –∑–æ–Ω–∞ + –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ -->
          <div id="drop" class="dropzone" aria-label="–ü—Ä–∏–∫—Ä–µ–ø–∏—Ç—å —Ñ–∞–π–ª—ã">
            <input id="files" class="file-input" type="file" name="attachments" multiple
                   accept=".pdf,.doc,.docx,.xls,.xlsx,.png,.jpg,.jpeg,.zip,.rar,.7z,.txt">
            <div class="drop-inner">
              <div class="ico">‚¨ÜÔ∏è</div>
              <p class="dz-title">–ü–µ—Ä–µ—Ç–∞—â–∏—Ç–µ —Ñ–∞–π–ª—ã —Å—é–¥–∞ –∏–ª–∏ –Ω–∞–∂–º–∏—Ç–µ –¥–ª—è –≤—ã–±–æ—Ä–∞</p>
              <p class="dz-note">PDF, –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è, –æ—Ñ–∏—Å–Ω—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã, –∞—Ä—Ö–∏–≤—ã. –î–æ 20 –ú–ë —Å—É–º–º–∞—Ä–Ω–æ.</p>
            </div>
          </div>
          <ul id="fileList" class="file-list" aria-live="polite"></ul>


          <button type="submit" class="btn">–û—Ç–ø—Ä–∞–≤–∏—Ç—å</button>
        </form>
      </div>


      <div class="col-6 reveal">
        <h2>–ö–æ–Ω—Ç–∞–∫—Ç—ã</h2>
        <p>üìç 630099 –≥. –ù–æ–≤–æ—Å–∏–±–∏—Ä—Å–∫, —É–ª. –î–µ–ø—É—Ç–∞—Ç—Å–∫–∞—è, 2</p>
        <p>‚òé +7 (383) 383-24-24</p>
        <p>‚úâ info@novoneftehim.ru</p>


        <!-- TELEGRAM CTA -->
        <div class="tg-contact">
          <h3>–ù–∞–ø–∏—Å–∞—Ç—å –≤ Telegram</h3>
          <p>–ú—ã –æ–Ω–ª–∞–π–Ω –∏ –æ—Ç–≤–µ—á–∞–µ–º –±—ã—Å—Ç—Ä–æ.</p>
          <a href="https://t.me/tychinskiybogdan" target="_blank" class="btn btn-tg">–û—Ç–∫—Ä—ã—Ç—å Telegram</a>
        </div>
      </div>
    </div>
  </div>
</section>


{% endblock %}


{% block body_end %}
<style>
  .dropzone{position:relative;border:2px dashed rgba(0,0,0,.15);border-radius:14px;padding:18px;background:rgba(0,0,0,.02);transition:.2s}
  .dropzone.focus{border-color:#0a84ff;background:rgba(10,132,255,.06)}
  .file-input{position:absolute;inset:0;opacity:0;cursor:pointer}
  .drop-inner{pointer-events:none;text-align:center}
  .drop-inner .ico{font-size:22px;margin-bottom:6px}
  .dz-title{margin:0;font-weight:600}
  .dz-note{margin:.25rem 0 0;color:#6e6e73;font-size:13px}
  .file-list{list-style:none;margin:10px 0 0;padding:0}
  .file-list li{display:flex;justify-content:space-between;gap:10px;padding:8px 10px;border:1px solid rgba(0,0,0,.08);border-radius:10px;margin-bottom:6px;background:#fff}
  .file-list small{color:#6e6e73}
</style>
<script>
(() => {
  const dz = document.getElementById('drop');
  const input = document.getElementById('files');
  const list = document.getElementById('fileList');
  const MAX_TOTAL = 20 * 1024 * 1024; // 20MB
  const MAX_FILE  = 15 * 1024 * 1024; // 15MB


  function fmtSize(b){ if(b<1024) return b+' B'; const kb=b/1024; if(kb<1024) return kb.toFixed(1)+' KB'; return (kb/1024).toFixed(1)+' MB'; }


  function render(files){
    list.innerHTML = '';
    let total = 0;
    [...files].forEach(f => { total += f.size; });
    if (total > MAX_TOTAL) {
      alert('–°—É–º–º–∞—Ä–Ω—ã–π —Ä–∞–∑–º–µ—Ä —Ñ–∞–π–ª–æ–≤ –ø—Ä–µ–≤—ã—à–∞–µ—Ç 20 –ú–ë. –£–¥–∞–ª–∏—Ç–µ –ª–∏—à–Ω–µ–µ.');
      input.value = '';
      return;
    }
    [...files].forEach(f => {
      if (f.size > MAX_FILE) {
        alert(`–§–∞–π–ª "${f.name}" –±–æ–ª—å—à–µ 15 –ú–ë –∏ –Ω–µ –±—É–¥–µ—Ç –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω.`);
      }
    });
    [...files].forEach(f => {
      const li = document.createElement('li');
      li.innerHTML = `<span>${f.name}</span><small>${fmtSize(f.size)}</small>`;
      list.appendChild(li);
    });
  }


  input.addEventListener('change', e => render(e.target.files));


  dz.addEventListener('dragenter', () => dz.classList.add('focus'));
  dz.addEventListener('dragleave', () => dz.classList.remove('focus'));
  dz.addEventListener('drop', () => dz.classList.remove('focus'));
})();
</script>


<!-- scroll-reveal -->
<script>
(()=>{const els=[...document.querySelectorAll('.reveal')];if(!els.length)return;
const io=new IntersectionObserver(es=>{es.forEach(en=>{if(en.isIntersecting){en.target.classList.add('reveal-in');io.unobserve(en.target)}})},{threshold:.18});
els.forEach(el=>io.observe(el))})();
</script>
{% endblock %}





