{% extends "base.html" %}
{% block title %}–û –∫–æ–º–ø–∞–Ω–∏–∏ ‚Äî –ù–û–í–û–ù–ï–§–¢–ï–•–ò–ú{% endblock %}

{% block content %}

<!-- üëá –õ–æ–∫–∞–ª—å–Ω—ã–µ –ø—Ä–∞–≤–∫–∏ —Å—Ç–∏–ª–µ–π –¥–ª—è —ç—Ç–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã -->
<style>
  .about-page .team-photo{
    height: auto !important;
    aspect-ratio: 4 / 3;
    overflow: hidden;
  }
  .about-page .team-photo img{
    width: 100%; height: 100%;
    object-fit: cover; object-position: center;
    display: block;
  }

  /* === 4 –∫–∞—Ä—Ç–æ—á–∫–∏ –≤ —Ä—è–¥, –≤—Å–µ–≥–¥–∞ –ø–æ —Ü–µ–Ω—Ç—Ä—É === */
  .about-page #team-grid{
    display: grid;
    gap: 24px;
    grid-template-columns: repeat(4, 260px); /* —á–µ—Ç—ã—Ä–µ —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –∫–æ–ª–æ–Ω–∫–∏ */
    justify-content: center;   /* —Å–µ—Ç–∫–∞ –≤—Å–µ–≥–¥–∞ –ø–æ —Ü–µ–Ω—Ç—Ä—É –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ */
    align-items: start;
  }
  .about-page #team-grid .span-2{ grid-column: span 2; }

  @media (max-width: 1024px){
    .about-page #team-grid{
      grid-template-columns: repeat(2, 260px); /* –Ω–∞ –ø–ª–∞–Ω—à–µ—Ç–µ –ø–æ 2 */
    }
  }

  @media (max-width: 560px){
    .about-page #team-grid{
      grid-template-columns: 1fr; /* –Ω–∞ —Ç–µ–ª–µ—Ñ–æ–Ω–µ –ø–æ 1 */
      gap: 16px;
    }
    .about-page #team-grid .span-2{ grid-column: span 1; }
  }

    /* –ü–æ–¥–∑–∞–≥–æ–ª–æ–≤–æ–∫ –Ω–∞ hero: —Ç–æ—Ç –∂–µ —Ü–≤–µ—Ç, —á—Ç–æ –∏ –∑–∞–≥–æ–ª–æ–≤–æ–∫ */
  .about-page .hero-dark .lead {
    color: inherit;        /* –Ω–∞—Å–ª–µ–¥—É–µ—Ç —Ü–≤–µ—Ç –æ—Ç —Ä–æ–¥–∏—Ç–µ–ª—è (–∫–∞–∫ —É h1) */
    text-shadow: inherit;  /* –∏ —Ç–µ–Ω—å, –µ—Å–ª–∏ –µ—Å—Ç—å —É –∑–∞–≥–æ–ª–æ–≤–∫–∞ */
  }



</style>





<div class="about-page"><!-- scope –¥–ª—è –ª–æ–∫–∞–ª—å–Ω—ã—Ö —Å—Ç–∏–ª–µ–π -->

  <!-- HERO -->
  <section
   class="hero hero-dark"
   style="
     --hero-bg:url('{{ url_for('static', filename='images/neftt.jpeg') }}');
     --hero-pos: top center;
   "
  >
   <div class="hero-content">
     <h1>–û –∫–æ–º–ø–∞–Ω–∏–∏</h1>
     <p class="lead">–ù–û–í–û–ù–ï–§–¢–ï–•–ò–ú ‚Äî –≤–∞—à –Ω–∞–¥—ë–∂–Ω—ã–π –ø–∞—Ä—Ç–Ω—ë—Ä –≤ –ø–æ—Å—Ç–∞–≤–∫–µ –ø—Ä–æ–º—ã—à–ª–µ–Ω–Ω–æ–≥–æ –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏—è</p>
   </div>
  </section>

  <!-- –ö–ª—é—á–µ–≤—ã–µ –≤–µ—Ö–∏ -->
  <section class="section">
   <div class="container">
     <div class="section-head center">
       <h2>–ö–ª—é—á–µ–≤—ã–µ –≤–µ—Ö–∏</h2>
     </div>

     <ol class="timeline">
       <li>
         <div class="tl-dot"></div>
         <div class="tl-content">
           <h3>2013</h3>
           <p>üìç 16 –∞–≤–≥—É—Å—Ç–∞ –≤ –ù–æ–≤–æ—Å–∏–±–∏—Ä—Å–∫–µ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∞ –∫–æ–º–ø–∞–Ω–∏—è, —Å—Ç–∞–≤—à–∞—è –æ—Å–Ω–æ–≤–æ–π –±—É–¥—É—â–µ–≥–æ –ù–û–í–û–ù–ï–§–¢–ï–•–ò–ú–∞. –° —Å–∞–º–æ–≥–æ –Ω–∞—á–∞–ª–∞ –º—ã –≤–∑—è–ª–∏ –∫—É—Ä—Å –Ω–∞ —Ç–æ, —á—Ç–æ–±—ã —Å–ª–æ–∂–Ω–æ–µ –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏–µ —Å—Ç–∞–Ω–æ–≤–∏–ª–æ—Å—å –ø–æ–Ω—è—Ç–Ω—ã–º, –∞ –Ω–∞–¥—ë–∂–Ω–æ–µ ‚Äî –¥–æ—Å—Ç—É–ø–Ω—ã–º.</p>
         </div>
       </li>

       <li>
         <div class="tl-dot"></div>
         <div class="tl-content">
           <h3>2014</h3>
           <p>–í —è–Ω–≤–∞—Ä–µ –ò–≤–∞–Ω –õ–µ—â–∏–Ω—Å–∫–∏–π —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω—ã–º —É—á—Ä–µ–¥–∏—Ç–µ–ª–µ–º. –ö–æ–º–ø–∞–Ω–∏—è –ø–æ–ª—É—á–∞–µ—Ç –Ω–∞–∑–≤–∞–Ω–∏–µ, –ø–æ–¥ –∫–æ—Ç–æ—Ä—ã–º –≤—Å–∫–æ—Ä–µ –µ—ë —É–∑–Ω–∞—é—Ç –≤–æ –≤—Å–µ–π —Å—Ç—Ä–∞–Ω–µ.</p>
         </div>
       </li>

       <li>
         <div class="tl-dot"></div>
         <div class="tl-content">
           <h3>2014‚Äì2016</h3>
           <p>–ü–µ—Ä–∏–æ–¥ —Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è: —Ä–∞–±–æ—Ç–∞ –Ω–∞–¥ –Ω–µ–±–æ–ª—å—à–∏–º–∏, –Ω–æ –∑–Ω–∞—á–∏–º—ã–º–∏ –ø—Ä–æ–µ–∫—Ç–∞–º–∏, –Ω–∞–∫–æ–ø–ª–µ–Ω–∏–µ –æ–ø—ã—Ç–∞ –∏ —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–ª—é—á–µ–≤—ã—Ö –∫–æ–º–ø–µ—Ç–µ–Ω—Ü–∏–π.</p>
         </div>
       </li>

       <li>
         <div class="tl-dot"></div>
         <div class="tl-content">
           <h3>2016</h3>
           <p>üî• –ü–µ—Ä–≤—ã–µ –∫—Ä—É–ø–Ω—ã–µ –ø–∞—Ä—Ç–Ω—ë—Ä—ã: –†–æ—Å–Ω–µ—Ñ—Ç—å, –ì–∞–∑–ø—Ä–æ–º–Ω–µ—Ñ—Ç—å, –°–∏–±—É—Ä, –ï–≤—Ä–∞–∑. –ú—ã –¥–æ–∫–∞–∑–∞–ª–∏, —á—Ç–æ —Å–∏–±–∏—Ä—Å–∫–∞—è –∏–Ω–∂–µ–Ω–µ—Ä–Ω–∞—è —à–∫–æ–ª–∞ ‚Äî —ç—Ç–æ —Ä–µ–∞–ª—å–Ω—ã–π —Å—Ç–∞–Ω–¥–∞—Ä—Ç –∫–∞—á–µ—Å—Ç–≤–∞.</p>
         </div>
       </li>

       <li>
         <div class="tl-dot"></div>
         <div class="tl-content">
           <h3>2018</h3>
           <p>üí™ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω –º–∞—Å—à—Ç–∞–±–Ω—ã–π –ø—Ä–æ–µ–∫—Ç –¥–ª—è –û–ù–ü–ó ‚Äî —É—Å—Ç–∞–Ω–æ–≤–∫–∞ –æ–±–µ–∑–≤–æ–∂–∏–≤–∞–Ω–∏—è —à–ª–∞–º–∞ –Ω–∞ –±–∞–∑–µ —à–ª–∞–º–æ–æ—Å—É—à–∞—é—â–µ–≥–æ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞. –≠—Ç–æ—Ç –æ–ø—ã—Ç –ø–æ–∫–∞–∑–∞–ª, —á—Ç–æ ¬´–Ω–µ–≤–æ–∑–º–æ–∂–Ω—ã–µ¬ª –∑–∞–¥–∞—á–∏ ‚Äî –∏–º–µ–Ω–Ω–æ –Ω–∞—à–∞ —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è.</p>
         </div>
       </li>

       <li>
         <div class="tl-dot"></div>
         <div class="tl-content">
           <h3>2022</h3>
           <p>üè∑Ô∏è –ó–∞–ø—É—Å–∫ –ø—Ä–æ–µ–∫—Ç–æ–≤ –ø–æ–¥ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–º –±—Ä–µ–Ω–¥–æ–º. –ù–∞—à–µ –∏–º—è —Å—Ç–∞–ª–æ —Å–∏–º–≤–æ–ª–æ–º –∏–Ω–∂–µ–Ω–µ—Ä–Ω–æ–π –∫—Ä–µ–∞—Ç–∏–≤–Ω–æ—Å—Ç–∏ –∏ –∫–∞—á–µ—Å—Ç–≤–∞.</p>
         </div>
       </li>

       <li>
         <div class="tl-dot"></div>
         <div class="tl-content">
           <h3>2025</h3>
           <p>üöÄ –°—Ç–∞—Ä—Ç –º–∞—Å—à—Ç–∞–±–Ω–æ–≥–æ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–∞. –ú—ã –≤—ã—Ö–æ–¥–∏–º –Ω–∞ –Ω–æ–≤—ã–π —É—Ä–æ–≤–µ–Ω—å ‚Äî –±–µ—Ä—ë–º—Å—è –∑–∞ –±–æ–ª–µ–µ —Å–ª–æ–∂–Ω—ã–µ –ø—Ä–æ–µ–∫—Ç—ã –∏ —Å–æ–∑–¥–∞—ë–º –±–æ–ª—å—à–µ —Ä–µ—à–µ–Ω–∏–π –¥–ª—è –æ—Ç—Ä–∞—Å–ª–∏.</p>
         </div>
       </li>
     </ol>
   </div>
  </section>

  <!-- –ö–æ–º–∞–Ω–¥–∞ (–¥–∏–Ω–∞–º–∏–∫–∞ –∏–∑ –ë–î) -->
  <section class="section">
   <div class="container">
     <div class="section-head center">
       <h2>–ö–æ–º–∞–Ω–¥–∞</h2>
       <p>–ö—Ä–æ—Å—Å-—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ –≥—Ä—É–ø–ø—ã –∏–Ω–∂–µ–Ω–µ—Ä–æ–≤, –ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤—â–∏–∫–æ–≤ –∏ —Å–µ—Ä–≤–∏—Å–Ω—ã—Ö —Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç–æ–≤.</p>
     </div>

     {# –ß–∏–ø—Å—ã-—Ñ–∏–ª—å—Ç—Ä—ã (—Ñ–æ—Ä–º–∏—Ä—É—é—Ç—Å—è –∏–∑ depts) #}
     <div class="chips center" id="dept-filters" {% if not depts %}hidden{% endif %}>
       <button class="chip active" data-dept="__all__">–í—Å–µ</button>
       {% for d in depts %}
         {% set d_norm = (d or '')|trim|lower %}
         <button class="chip" data-dept="{{ d_norm|e }}">{{ d }}</button>
       {% endfor %}
     </div>

     <!-- –ú–æ–∑–∞–∏–∫–∞ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤ -->
     <div class="team-mosaic" id="team-grid">
       {% for e in employees %}
         {% set dept_norm = (e.dept or '')|trim|lower %}
         <article class="team-card {% if e.span2 %}span-2{% endif %}"
                  data-dept="{{ dept_norm|e }}"
                  data-name="{{ e.full_name|e }}"
                  data-title="{{ e.title|e }}"
                  data-email="{{ (e.email or '')|e }}"
                  data-phone="{{ (e.phone or '')|e }}"
                  data-photo="{{ (e.photo if e.photo and (e.photo.startswith('http') or e.photo.startswith('/static/')) else ('/' ~ (e.photo or ''))) | e }}">
           <div class="team-photo">
             {% if e.photo %}
               <img src="{{ e.photo if e.photo.startswith('http') or e.photo.startswith('/static/') else '/' ~ e.photo }}"
                    alt="{{ e.full_name|e }}">
             {% else %}
               <img src="{{ url_for('static', filename='images/placeholder_user.jpg') }}"
                    alt="{{ e.full_name|e }}">
             {% endif %}
           </div>
           <div class="team-body">
             <h3>{{ e.full_name }}</h3>
             <p class="role">{{ e.title }} ‚Äî {{ e.dept }}</p>
           </div>
         </article>
       {% else %}
         <p class="muted center" style="grid-column: 1 / -1;">–°–æ—Ç—Ä—É–¥–Ω–∏–∫–∏ –ø–æ–∫–∞ –Ω–µ –¥–æ–±–∞–≤–ª–µ–Ω—ã.</p>
       {% endfor %}
     </div>
   </div>
  </section>

  <!-- –ú–æ–¥–∞–ª–∫–∞ –∫–∞—Ä—Ç–æ—á–∫–∏ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞ -->
  <div class="modal" id="empModal" hidden>
   <div class="modal-backdrop" data-close></div>
   <div class="modal-dialog" role="dialog" aria-modal="true" aria-labelledby="empName">
     <button class="modal-close" aria-label="–ó–∞–∫—Ä—ã—Ç—å" data-close>√ó</button>
     <div class="modal-content">
       <div class="emp-header">
         <img id="empPhoto" class="emp-photo" src="" alt="" />
         <div>
           <h3 id="empName"></h3>
           <p class="muted" id="empDeptTitle"></p>
         </div>
       </div>
       <div class="mt-2">
         <p><strong>–ü–æ—á—Ç–∞:</strong> <a id="empEmail" href="#"></a></p>
         <p><strong>–¢–µ–ª–µ—Ñ–æ–Ω:</strong> <span id="empPhone">‚Äî</span></p>
       </div>
     </div>
   </div>
  </div>

</div><!-- /about-page -->

{% endblock %}

{% block body_end %}
<script>
/* –§–∏–ª—å—Ç—Ä—ã –æ—Ç–¥–µ–ª–æ–≤ (–Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è, —É—Å—Ç–æ–π—á–∏–≤–æ –∫ —Ä–µ–≥–∏—Å—Ç—Ä—É/–ø—Ä–æ–±–µ–ª–∞–º) */
(function () {
  const bar  = document.getElementById('dept-filters');
  const grid = document.getElementById('team-grid');
  if (!grid) return;

  const cards = Array.from(grid.querySelectorAll('.team-card'));
  const norm = s => (s || '').toString().trim().toLowerCase();

  function apply(dept) {
    const wantAll = (dept === '__all__');
    cards.forEach(c => {
      const cd = norm(c.dataset.dept);
      const show = wantAll || cd === dept;
      c.style.display = show ? '' : 'none';
    });
    /* –°–µ—Ç–∫–∞ —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–∞ (4√ó260px) –∏ —Ü–µ–Ω—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∞ ‚Äî –Ω–∏—á–µ–≥–æ –Ω–µ ¬´—Ä–∞–∑–¥—É–≤–∞–µ—Ç—Å—è¬ª */
  }

  if (bar && bar.hidden !== true) {
    const chips = Array.from(bar.querySelectorAll('.chip'));
    bar.addEventListener('click', e => {
      const btn = e.target.closest('.chip'); if (!btn) return;
      chips.forEach(c => c.classList.remove('active'));
      btn.classList.add('active');
      apply(btn.dataset.dept);
    });
  }
})();

/* –ú–æ–¥–∞–ª–∫–∞ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞ */
(function () {
  const grid  = document.getElementById('team-grid');
  const modal = document.getElementById('empModal');
  if (!grid || !modal) return;

  const nameEl  = modal.querySelector('#empName');
  const dtEl    = modal.querySelector('#empDeptTitle');
  const emailEl = modal.querySelector('#empEmail');
  const phoneEl = modal.querySelector('#empPhone');
  const photoEl = modal.querySelector('#empPhoto');

  function open(card){
    const name  = card.dataset.name  || '';
    the_title   = card.dataset.title || '';
    const dept  = card.dataset.dept  || '';
    const email = card.dataset.email || '';
    const phone = card.dataset.phone || '';
    const photo = card.dataset.photo || '';

    nameEl.textContent = name;
    dtEl.textContent   = [the_title, dept].filter(Boolean).join(' ‚Äî ');
    emailEl.textContent = email || '‚Äî';
    emailEl.href        = email ? ('mailto:' + email) : '#';
    phoneEl.textContent = phone || '‚Äî';

    if (photo) { photoEl.src = photo; photoEl.alt = name; photoEl.style.display=''; }
    else { photoEl.style.display='none'; }

    modal.hidden = false;
    document.body.style.overflow = 'hidden';
  }
  function close(){
    modal.hidden = true;
    document.body.style.overflow = '';
  }

  grid.addEventListener('click', e => {
    const card = e.target.closest('.team-card'); if (!card) return;
    open(card);
  });
  modal.addEventListener('click', e => {
    if (e.target.dataset.close !== undefined || e.target.classList.contains('modal')) close();
  });
  document.addEventListener('keydown', e => { if (e.key === 'Escape' && !modal.hidden) close(); });
})();
</script>
{% endblock %}



